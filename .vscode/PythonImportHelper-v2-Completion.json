[
    {
        "label": "logging",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "logging",
        "description": "logging",
        "detail": "logging",
        "documentation": {}
    },
    {
        "label": "Optional",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "Optional",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "Any",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "Bot",
        "importPath": "aiogram",
        "description": "aiogram",
        "isExtraImport": true,
        "detail": "aiogram",
        "documentation": {}
    },
    {
        "label": "Dispatcher",
        "importPath": "aiogram",
        "description": "aiogram",
        "isExtraImport": true,
        "detail": "aiogram",
        "documentation": {}
    },
    {
        "label": "F",
        "importPath": "aiogram",
        "description": "aiogram",
        "isExtraImport": true,
        "detail": "aiogram",
        "documentation": {}
    },
    {
        "label": "Router",
        "importPath": "aiogram",
        "description": "aiogram",
        "isExtraImport": true,
        "detail": "aiogram",
        "documentation": {}
    },
    {
        "label": "Bot",
        "importPath": "aiogram",
        "description": "aiogram",
        "isExtraImport": true,
        "detail": "aiogram",
        "documentation": {}
    },
    {
        "label": "Dispatcher",
        "importPath": "aiogram",
        "description": "aiogram",
        "isExtraImport": true,
        "detail": "aiogram",
        "documentation": {}
    },
    {
        "label": "Command",
        "importPath": "aiogram.filters",
        "description": "aiogram.filters",
        "isExtraImport": true,
        "detail": "aiogram.filters",
        "documentation": {}
    },
    {
        "label": "CallbackQuery",
        "importPath": "aiogram.types",
        "description": "aiogram.types",
        "isExtraImport": true,
        "detail": "aiogram.types",
        "documentation": {}
    },
    {
        "label": "InlineKeyboardButton",
        "importPath": "aiogram.types",
        "description": "aiogram.types",
        "isExtraImport": true,
        "detail": "aiogram.types",
        "documentation": {}
    },
    {
        "label": "InlineKeyboardMarkup",
        "importPath": "aiogram.types",
        "description": "aiogram.types",
        "isExtraImport": true,
        "detail": "aiogram.types",
        "documentation": {}
    },
    {
        "label": "Message",
        "importPath": "aiogram.types",
        "description": "aiogram.types",
        "isExtraImport": true,
        "detail": "aiogram.types",
        "documentation": {}
    },
    {
        "label": "MessageReactionUpdated",
        "importPath": "aiogram.types",
        "description": "aiogram.types",
        "isExtraImport": true,
        "detail": "aiogram.types",
        "documentation": {}
    },
    {
        "label": "ReactionTypeEmoji",
        "importPath": "aiogram.types",
        "description": "aiogram.types",
        "isExtraImport": true,
        "detail": "aiogram.types",
        "documentation": {}
    },
    {
        "label": "BotCommand",
        "importPath": "aiogram.types",
        "description": "aiogram.types",
        "isExtraImport": true,
        "detail": "aiogram.types",
        "documentation": {}
    },
    {
        "label": "COUNT_EACH_PHOTO_IN_ALBUM",
        "importPath": "config",
        "description": "config",
        "isExtraImport": true,
        "detail": "config",
        "documentation": {}
    },
    {
        "label": "DATABASE_PATH",
        "importPath": "config",
        "description": "config",
        "isExtraImport": true,
        "detail": "config",
        "documentation": {}
    },
    {
        "label": "TIMEZONE",
        "importPath": "config",
        "description": "config",
        "isExtraImport": true,
        "detail": "config",
        "documentation": {}
    },
    {
        "label": "SYNC_INTERVAL_MINUTES",
        "importPath": "config",
        "description": "config",
        "isExtraImport": true,
        "detail": "config",
        "documentation": {}
    },
    {
        "label": "REPORT_SHEET_NAME",
        "importPath": "config",
        "description": "config",
        "isExtraImport": true,
        "detail": "config",
        "documentation": {}
    },
    {
        "label": "SERVICE_ACCOUNT_FILE",
        "importPath": "config",
        "description": "config",
        "isExtraImport": true,
        "detail": "config",
        "documentation": {}
    },
    {
        "label": "SPREADSHEET_ID",
        "importPath": "config",
        "description": "config",
        "isExtraImport": true,
        "detail": "config",
        "documentation": {}
    },
    {
        "label": "SYNC_BATCH_SIZE",
        "importPath": "config",
        "description": "config",
        "isExtraImport": true,
        "detail": "config",
        "documentation": {}
    },
    {
        "label": "BOT_TOKEN",
        "importPath": "config",
        "description": "config",
        "isExtraImport": true,
        "detail": "config",
        "documentation": {}
    },
    {
        "label": "TIMEZONE",
        "importPath": "config",
        "description": "config",
        "isExtraImport": true,
        "detail": "config",
        "documentation": {}
    },
    {
        "label": "Database",
        "importPath": "database",
        "description": "database",
        "isExtraImport": true,
        "detail": "database",
        "documentation": {}
    },
    {
        "label": "Database",
        "importPath": "database",
        "description": "database",
        "isExtraImport": true,
        "detail": "database",
        "documentation": {}
    },
    {
        "label": "Database",
        "importPath": "database",
        "description": "database",
        "isExtraImport": true,
        "detail": "database",
        "documentation": {}
    },
    {
        "label": "Database",
        "importPath": "database",
        "description": "database",
        "isExtraImport": true,
        "detail": "database",
        "documentation": {}
    },
    {
        "label": "os",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "os",
        "description": "os",
        "detail": "os",
        "documentation": {}
    },
    {
        "label": "sqlite3",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "sqlite3",
        "description": "sqlite3",
        "detail": "sqlite3",
        "documentation": {}
    },
    {
        "label": "datetime",
        "importPath": "datetime",
        "description": "datetime",
        "isExtraImport": true,
        "detail": "datetime",
        "documentation": {}
    },
    {
        "label": "datetime",
        "importPath": "datetime",
        "description": "datetime",
        "isExtraImport": true,
        "detail": "datetime",
        "documentation": {}
    },
    {
        "label": "datetime",
        "importPath": "datetime",
        "description": "datetime",
        "isExtraImport": true,
        "detail": "datetime",
        "documentation": {}
    },
    {
        "label": "ZoneInfo",
        "importPath": "zoneinfo",
        "description": "zoneinfo",
        "isExtraImport": true,
        "detail": "zoneinfo",
        "documentation": {}
    },
    {
        "label": "ZoneInfo",
        "importPath": "zoneinfo",
        "description": "zoneinfo",
        "isExtraImport": true,
        "detail": "zoneinfo",
        "documentation": {}
    },
    {
        "label": "asyncio",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "asyncio",
        "description": "asyncio",
        "detail": "asyncio",
        "documentation": {}
    },
    {
        "label": "GoogleSheetsService",
        "importPath": "services.sheets",
        "description": "services.sheets",
        "isExtraImport": true,
        "detail": "services.sheets",
        "documentation": {}
    },
    {
        "label": "Credentials",
        "importPath": "google.oauth2.service_account",
        "description": "google.oauth2.service_account",
        "isExtraImport": true,
        "detail": "google.oauth2.service_account",
        "documentation": {}
    },
    {
        "label": "build",
        "importPath": "googleapiclient.discovery",
        "description": "googleapiclient.discovery",
        "isExtraImport": true,
        "detail": "googleapiclient.discovery",
        "documentation": {}
    },
    {
        "label": "HttpError",
        "importPath": "googleapiclient.errors",
        "description": "googleapiclient.errors",
        "isExtraImport": true,
        "detail": "googleapiclient.errors",
        "documentation": {}
    },
    {
        "label": "load_dotenv",
        "importPath": "dotenv",
        "description": "dotenv",
        "isExtraImport": true,
        "detail": "dotenv",
        "documentation": {}
    },
    {
        "label": "sys",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "sys",
        "description": "sys",
        "detail": "sys",
        "documentation": {}
    },
    {
        "label": "DefaultBotProperties",
        "importPath": "aiogram.client.default",
        "description": "aiogram.client.default",
        "isExtraImport": true,
        "detail": "aiogram.client.default",
        "documentation": {}
    },
    {
        "label": "ParseMode",
        "importPath": "aiogram.enums",
        "description": "aiogram.enums",
        "isExtraImport": true,
        "detail": "aiogram.enums",
        "documentation": {}
    },
    {
        "label": "setup_handlers",
        "importPath": "bot",
        "description": "bot",
        "isExtraImport": true,
        "detail": "bot",
        "documentation": {}
    },
    {
        "label": "SyncScheduler",
        "importPath": "services",
        "description": "services",
        "isExtraImport": true,
        "detail": "services",
        "documentation": {}
    },
    {
        "label": "get_topic_id",
        "kind": 2,
        "importPath": "src.bot.handlers",
        "description": "src.bot.handlers",
        "peekOfCode": "def get_topic_id(message: Message) -> int:\n    \"\"\"\n    –ò–∑–≤–ª–µ–∫–∞–µ—Ç ID —Ç–æ–ø–∏–∫–∞ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è.\n    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –≥—Ä—É–ø–ø –∏–ª–∏ General —Ç–æ–ø–∏–∫–∞.\n    \"\"\"\n    return message.message_thread_id or 0\ndef format_chat_topic(chat_id: int, topic_id: int) -> str:\n    \"\"\"–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É ChatId(TopicId).\"\"\"\n    return f\"{chat_id}({topic_id})\"\ndef get_type_keyboard(chat_id: int, topic_id: int) -> InlineKeyboardMarkup:",
        "detail": "src.bot.handlers",
        "documentation": {}
    },
    {
        "label": "format_chat_topic",
        "kind": 2,
        "importPath": "src.bot.handlers",
        "description": "src.bot.handlers",
        "peekOfCode": "def format_chat_topic(chat_id: int, topic_id: int) -> str:\n    \"\"\"–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É ChatId(TopicId).\"\"\"\n    return f\"{chat_id}({topic_id})\"\ndef get_type_keyboard(chat_id: int, topic_id: int) -> InlineKeyboardMarkup:\n    \"\"\"–°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å —Ç–∏–ø–∞–º–∏ —Ç–æ–ø–∏–∫–æ–≤.\"\"\"\n    buttons = []\n    for idx, topic_type in enumerate(TOPIC_TYPES):\n        # –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ—Ä–æ—Ç–∫–∏–π —Ñ–æ—Ä–º–∞—Ç: st:chat_id:topic_id:type_index (–º–∞–∫—Å 64 –±–∞–π—Ç–∞)\n        callback_data = f\"st:{chat_id}:{topic_id}:{idx}\"\n        buttons.append([InlineKeyboardButton(text=topic_type, callback_data=callback_data)])",
        "detail": "src.bot.handlers",
        "documentation": {}
    },
    {
        "label": "get_type_keyboard",
        "kind": 2,
        "importPath": "src.bot.handlers",
        "description": "src.bot.handlers",
        "peekOfCode": "def get_type_keyboard(chat_id: int, topic_id: int) -> InlineKeyboardMarkup:\n    \"\"\"–°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å —Ç–∏–ø–∞–º–∏ —Ç–æ–ø–∏–∫–æ–≤.\"\"\"\n    buttons = []\n    for idx, topic_type in enumerate(TOPIC_TYPES):\n        # –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ—Ä–æ—Ç–∫–∏–π —Ñ–æ—Ä–º–∞—Ç: st:chat_id:topic_id:type_index (–º–∞–∫—Å 64 –±–∞–π—Ç–∞)\n        callback_data = f\"st:{chat_id}:{topic_id}:{idx}\"\n        buttons.append([InlineKeyboardButton(text=topic_type, callback_data=callback_data)])\n    return InlineKeyboardMarkup(inline_keyboard=buttons)\n@router.message(Command(\"id\"))\nasync def cmd_id(message: Message) -> None:",
        "detail": "src.bot.handlers",
        "documentation": {}
    },
    {
        "label": "update_titles_from_message",
        "kind": 2,
        "importPath": "src.bot.handlers",
        "description": "src.bot.handlers",
        "peekOfCode": "def update_titles_from_message(message: Message) -> None:\n    \"\"\"–û–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è —á–∞—Ç–∞ –∏ —Ç–æ–ø–∏–∫–∞ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è.\"\"\"\n    if _db is None:\n        return\n    chat_id = message.chat.id\n    topic_id = get_topic_id(message)\n    # –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞\n    if message.chat.title:\n        _db.update_chat_title(chat_id, message.chat.title)\n    # –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–∞ –µ—Å–ª–∏ —ç—Ç–æ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Å–æ–∑–¥–∞–Ω–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏",
        "detail": "src.bot.handlers",
        "documentation": {}
    },
    {
        "label": "setup_handlers",
        "kind": 2,
        "importPath": "src.bot.handlers",
        "description": "src.bot.handlers",
        "peekOfCode": "def setup_handlers(dp: Dispatcher, db: Database) -> None:\n    \"\"\"–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.\"\"\"\n    global _db\n    _db = db\n    dp.include_router(router)\n    logger.info(\"–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã\")",
        "detail": "src.bot.handlers",
        "documentation": {}
    },
    {
        "label": "logger",
        "kind": 5,
        "importPath": "src.bot.handlers",
        "description": "src.bot.handlers",
        "peekOfCode": "logger = logging.getLogger(__name__)\nrouter = Router()\n# –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –ë–î (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ setup)\n_db: Optional[Database] = None\n# –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã —Ç–æ–ø–∏–∫–æ–≤ (–ø–æ—Ä—è–¥–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å sheets.py)\nTOPIC_TYPES = [\n    \"–°–ø–∏—Å–∞–Ω–∏–µ –ü—Ä–æ–¥—É–∫—Ç–æ–≤\",\n    \"–ß–∏—Å—Ç–æ—Ç–∞\",\n    \"–í—ã—Ä—É—á–∫–∞ –∏ –∑–∞–∫—É–ø–∫–∏\",\n    \"–ó–∞–≥–æ—Ç–æ–≤–∫–∏\",",
        "detail": "src.bot.handlers",
        "documentation": {}
    },
    {
        "label": "router",
        "kind": 5,
        "importPath": "src.bot.handlers",
        "description": "src.bot.handlers",
        "peekOfCode": "router = Router()\n# –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –ë–î (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ setup)\n_db: Optional[Database] = None\n# –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã —Ç–æ–ø–∏–∫–æ–≤ (–ø–æ—Ä—è–¥–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å sheets.py)\nTOPIC_TYPES = [\n    \"–°–ø–∏—Å–∞–Ω–∏–µ –ü—Ä–æ–¥—É–∫—Ç–æ–≤\",\n    \"–ß–∏—Å—Ç–æ—Ç–∞\",\n    \"–í—ã—Ä—É—á–∫–∞ –∏ –∑–∞–∫—É–ø–∫–∏\",\n    \"–ó–∞–≥–æ—Ç–æ–≤–∫–∏\",\n    \"–û–±—Å—É–∂–¥–µ–Ω–∏–µ\",",
        "detail": "src.bot.handlers",
        "documentation": {}
    },
    {
        "label": "TOPIC_TYPES",
        "kind": 5,
        "importPath": "src.bot.handlers",
        "description": "src.bot.handlers",
        "peekOfCode": "TOPIC_TYPES = [\n    \"–°–ø–∏—Å–∞–Ω–∏–µ –ü—Ä–æ–¥—É–∫—Ç–æ–≤\",\n    \"–ß–∏—Å—Ç–æ—Ç–∞\",\n    \"–í—ã—Ä—É—á–∫–∞ –∏ –∑–∞–∫—É–ø–∫–∏\",\n    \"–ó–∞–≥–æ—Ç–æ–≤–∫–∏\",\n    \"–û–±—Å—É–∂–¥–µ–Ω–∏–µ\",\n    \"–ë—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞\",\n    \"–ü—Ä–æ–¥—É–∫—Ü–∏—è\",\n]\ndef get_topic_id(message: Message) -> int:",
        "detail": "src.bot.handlers",
        "documentation": {}
    },
    {
        "label": "POSITIVE_REACTIONS",
        "kind": 5,
        "importPath": "src.bot.handlers",
        "description": "src.bot.handlers",
        "peekOfCode": "POSITIVE_REACTIONS = {\"üëç\"}\nNEGATIVE_REACTIONS = {\"üëé\"}\ndef _count_reaction_type(reactions: list, emoji_set: set[str]) -> int:\n    \"\"\"–ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∞–∫—Ü–∏–π –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞.\"\"\"\n    count = 0\n    for reaction in reactions:\n        if isinstance(reaction, ReactionTypeEmoji) and reaction.emoji in emoji_set:\n            count += 1\n    return count\n@router.message_reaction()",
        "detail": "src.bot.handlers",
        "documentation": {}
    },
    {
        "label": "NEGATIVE_REACTIONS",
        "kind": 5,
        "importPath": "src.bot.handlers",
        "description": "src.bot.handlers",
        "peekOfCode": "NEGATIVE_REACTIONS = {\"üëé\"}\ndef _count_reaction_type(reactions: list, emoji_set: set[str]) -> int:\n    \"\"\"–ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∞–∫—Ü–∏–π –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞.\"\"\"\n    count = 0\n    for reaction in reactions:\n        if isinstance(reaction, ReactionTypeEmoji) and reaction.emoji in emoji_set:\n            count += 1\n    return count\n@router.message_reaction()\nasync def handle_reaction(event: MessageReactionUpdated) -> None:",
        "detail": "src.bot.handlers",
        "documentation": {}
    },
    {
        "label": "Database",
        "kind": 6,
        "importPath": "src.database.repository",
        "description": "src.database.repository",
        "peekOfCode": "class Database:\n    def __init__(self, db_path: str = DATABASE_PATH):\n        self.db_path = db_path\n        self._ensure_directory()\n        self._init_db()\n    def _ensure_directory(self) -> None:\n        os.makedirs(os.path.dirname(self.db_path), exist_ok=True)\n    def _get_connection(self) -> sqlite3.Connection:\n        conn = sqlite3.connect(self.db_path)\n        conn.row_factory = sqlite3.Row",
        "detail": "src.database.repository",
        "documentation": {}
    },
    {
        "label": "SyncScheduler",
        "kind": 6,
        "importPath": "src.services.scheduler",
        "description": "src.services.scheduler",
        "peekOfCode": "class SyncScheduler:\n    def __init__(self, db: Database):\n        self.db = db\n        self.sheets_service = GoogleSheetsService(db)\n        self._sync_task: asyncio.Task | None = None\n        self._cleanup_task: asyncio.Task | None = None\n        self._running = False\n    async def _sync_loop(self) -> None:\n        \"\"\"–û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.\"\"\"\n        while self._running:",
        "detail": "src.services.scheduler",
        "documentation": {}
    },
    {
        "label": "logger",
        "kind": 5,
        "importPath": "src.services.scheduler",
        "description": "src.services.scheduler",
        "peekOfCode": "logger = logging.getLogger(__name__)\n# –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö message_topics (–≤ —á–∞—Å–∞—Ö)\nCLEANUP_INTERVAL_HOURS = 1\n# –í–æ–∑—Ä–∞—Å—Ç –∑–∞–ø–∏—Å–µ–π –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è (–≤ –¥–Ω—è—Ö) - 3 –º–µ—Å—è—Ü–∞\nCLEANUP_AGE_DAYS = 90\nclass SyncScheduler:\n    def __init__(self, db: Database):\n        self.db = db\n        self.sheets_service = GoogleSheetsService(db)\n        self._sync_task: asyncio.Task | None = None",
        "detail": "src.services.scheduler",
        "documentation": {}
    },
    {
        "label": "CLEANUP_INTERVAL_HOURS",
        "kind": 5,
        "importPath": "src.services.scheduler",
        "description": "src.services.scheduler",
        "peekOfCode": "CLEANUP_INTERVAL_HOURS = 1\n# –í–æ–∑—Ä–∞—Å—Ç –∑–∞–ø–∏—Å–µ–π –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è (–≤ –¥–Ω—è—Ö) - 3 –º–µ—Å—è—Ü–∞\nCLEANUP_AGE_DAYS = 90\nclass SyncScheduler:\n    def __init__(self, db: Database):\n        self.db = db\n        self.sheets_service = GoogleSheetsService(db)\n        self._sync_task: asyncio.Task | None = None\n        self._cleanup_task: asyncio.Task | None = None\n        self._running = False",
        "detail": "src.services.scheduler",
        "documentation": {}
    },
    {
        "label": "CLEANUP_AGE_DAYS",
        "kind": 5,
        "importPath": "src.services.scheduler",
        "description": "src.services.scheduler",
        "peekOfCode": "CLEANUP_AGE_DAYS = 90\nclass SyncScheduler:\n    def __init__(self, db: Database):\n        self.db = db\n        self.sheets_service = GoogleSheetsService(db)\n        self._sync_task: asyncio.Task | None = None\n        self._cleanup_task: asyncio.Task | None = None\n        self._running = False\n    async def _sync_loop(self) -> None:\n        \"\"\"–û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.\"\"\"",
        "detail": "src.services.scheduler",
        "documentation": {}
    },
    {
        "label": "GoogleSheetsService",
        "kind": 6,
        "importPath": "src.services.sheets",
        "description": "src.services.sheets",
        "peekOfCode": "class GoogleSheetsService:\n    def __init__(self, db: Database):\n        self.db = db\n        self.spreadsheet_id = SPREADSHEET_ID\n        self.sheet_name = REPORT_SHEET_NAME\n        self._service = None\n    def _get_service(self) -> Any:\n        \"\"\"–°–æ–∑–¥–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–µ—Ä–≤–∏—Å Google Sheets API.\"\"\"\n        if self._service is None:\n            credentials = Credentials.from_service_account_file(",
        "detail": "src.services.sheets",
        "documentation": {}
    },
    {
        "label": "logger",
        "kind": 5,
        "importPath": "src.services.sheets",
        "description": "src.services.sheets",
        "peekOfCode": "logger = logging.getLogger(__name__)\nSCOPES = [\"https://www.googleapis.com/auth/spreadsheets\"]\n# –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã —Ç–æ–ø–∏–∫–æ–≤ –¥–ª—è —Å—Ç–æ–ª–±—Ü–æ–≤ —Ç–∞–±–ª–∏—Ü—ã\n# –ü–æ—Ä—è–¥–æ–∫: –ü—Ä–æ–¥—É–∫—Ü–∏—è, –°–ø–∏—Å–∞–Ω–∏–µ –ü—Ä–æ–¥—É–∫—Ç–æ–≤, –í—ã—Ä—É—á–∫–∞ –∏ –∑–∞–∫—É–ø–∫–∏, –ß–∏—Å—Ç–æ—Ç–∞, –ó–∞–≥–æ—Ç–æ–≤–∫–∏, –ë—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞, –û–±—Å—É–∂–¥–µ–Ω–∏–µ\nTOPIC_TYPES = [\n    \"–ü—Ä–æ–¥—É–∫—Ü–∏—è\",\n    \"–°–ø–∏—Å–∞–Ω–∏–µ –ü—Ä–æ–¥—É–∫—Ç–æ–≤\",\n    \"–í—ã—Ä—É—á–∫–∞ –∏ –∑–∞–∫—É–ø–∫–∏\",\n    \"–ß–∏—Å—Ç–æ—Ç–∞\",\n    \"–ó–∞–≥–æ—Ç–æ–≤–∫–∏\",",
        "detail": "src.services.sheets",
        "documentation": {}
    },
    {
        "label": "SCOPES",
        "kind": 5,
        "importPath": "src.services.sheets",
        "description": "src.services.sheets",
        "peekOfCode": "SCOPES = [\"https://www.googleapis.com/auth/spreadsheets\"]\n# –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã —Ç–æ–ø–∏–∫–æ–≤ –¥–ª—è —Å—Ç–æ–ª–±—Ü–æ–≤ —Ç–∞–±–ª–∏—Ü—ã\n# –ü–æ—Ä—è–¥–æ–∫: –ü—Ä–æ–¥—É–∫—Ü–∏—è, –°–ø–∏—Å–∞–Ω–∏–µ –ü—Ä–æ–¥—É–∫—Ç–æ–≤, –í—ã—Ä—É—á–∫–∞ –∏ –∑–∞–∫—É–ø–∫–∏, –ß–∏—Å—Ç–æ—Ç–∞, –ó–∞–≥–æ—Ç–æ–≤–∫–∏, –ë—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞, –û–±—Å—É–∂–¥–µ–Ω–∏–µ\nTOPIC_TYPES = [\n    \"–ü—Ä–æ–¥—É–∫—Ü–∏—è\",\n    \"–°–ø–∏—Å–∞–Ω–∏–µ –ü—Ä–æ–¥—É–∫—Ç–æ–≤\",\n    \"–í—ã—Ä—É—á–∫–∞ –∏ –∑–∞–∫—É–ø–∫–∏\",\n    \"–ß–∏—Å—Ç–æ—Ç–∞\",\n    \"–ó–∞–≥–æ—Ç–æ–≤–∫–∏\",\n    \"–ë—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞\",",
        "detail": "src.services.sheets",
        "documentation": {}
    },
    {
        "label": "TOPIC_TYPES",
        "kind": 5,
        "importPath": "src.services.sheets",
        "description": "src.services.sheets",
        "peekOfCode": "TOPIC_TYPES = [\n    \"–ü—Ä–æ–¥—É–∫—Ü–∏—è\",\n    \"–°–ø–∏—Å–∞–Ω–∏–µ –ü—Ä–æ–¥—É–∫—Ç–æ–≤\",\n    \"–í—ã—Ä—É—á–∫–∞ –∏ –∑–∞–∫—É–ø–∫–∏\",\n    \"–ß–∏—Å—Ç–æ—Ç–∞\",\n    \"–ó–∞–≥–æ—Ç–æ–≤–∫–∏\",\n    \"–ë—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞\",\n    \"–û–±—Å—É–∂–¥–µ–Ω–∏–µ\",\n]\n# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã –¥–ª—è —Ä–µ–∞–∫—Ü–∏–π (–¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ TOPIC_TYPES)",
        "detail": "src.services.sheets",
        "documentation": {}
    },
    {
        "label": "REACTION_COLUMNS",
        "kind": 5,
        "importPath": "src.services.sheets",
        "description": "src.services.sheets",
        "peekOfCode": "REACTION_COLUMNS = [\n    \"–õ–∞–π–∫–∏\",\n    \"–î–∏–∑–ª–∞–π–∫–∏\",\n]\nclass GoogleSheetsService:\n    def __init__(self, db: Database):\n        self.db = db\n        self.spreadsheet_id = SPREADSHEET_ID\n        self.sheet_name = REPORT_SHEET_NAME\n        self._service = None",
        "detail": "src.services.sheets",
        "documentation": {}
    },
    {
        "label": "setup_logging",
        "kind": 2,
        "importPath": "src.main",
        "description": "src.main",
        "peekOfCode": "def setup_logging() -> None:\n    \"\"\"–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ —Ñ–∞–π–ª.\"\"\"\n    # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –ø–æ –ú–°–ö\n    tz = ZoneInfo(TIMEZONE)\n    date_str = datetime.now(tz).strftime(\"%Y-%m-%d\")\n    # –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ª–æ–≥–æ–≤\n    log_dir = f\"logs/{date_str}\"\n    os.makedirs(log_dir, exist_ok=True)\n    log_file = f\"{log_dir}/log.log\"\n    # –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤",
        "detail": "src.main",
        "documentation": {}
    },
    {
        "label": "logger",
        "kind": 5,
        "importPath": "src.main",
        "description": "src.main",
        "peekOfCode": "logger = logging.getLogger(__name__)\nasync def set_bot_commands(bot: Bot) -> None:\n    \"\"\"–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ –¥–ª—è –º–µ–Ω—é.\"\"\"\n    commands = [\n        BotCommand(command=\"id\", description=\"–ü–æ–∫–∞–∑–∞—Ç—å ID —á–∞—Ç–∞ –∏ —Ç–æ–ø–∏–∫–∞\"),\n        BotCommand(command=\"set_chat_active\", description=\"–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —á–∞—Ç–∞\"),\n        BotCommand(command=\"set_chat_inactive\", description=\"–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —á–∞—Ç–∞\"),\n        BotCommand(command=\"set_city\", description=\"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–æ—Ä–æ–¥ –¥–ª—è —á–∞—Ç–∞\"),\n        BotCommand(command=\"set_type\", description=\"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–∏–ø –¥–ª—è —Ç–æ–ø–∏–∫–∞\"),\n        BotCommand(command=\"help\", description=\"–ü–æ–º–æ—â—å\"),",
        "detail": "src.main",
        "documentation": {}
    }
]